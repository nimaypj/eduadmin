<!DOCTYPE html>
<html>
<head>
    <title>EduAdmin</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script>
        window.onload = function () {
            if (localStorage.getItem("darkMode") === "enabled") {
                document.body.classList.add("dark-mode");
                document.getElementById("toggleSwitch").checked = true;
            }
        };

        function toggleDarkMode() {
            document.body.classList.toggle("dark-mode");
            if (document.body.classList.contains("dark-mode")) {
                localStorage.setItem("darkMode", "enabled");
            } else {
                localStorage.setItem("darkMode", "disabled");
            }
        }
    </script>
</head>
<body>

<div class="layout">

    <!-- Sidebar -->
    <aside class="sidebar">
        <div class="logo">ðŸŽ“ EduAdmin</div>

        <nav class="nav-links">
            <a href="/">Dashboard</a>

            {% if session.get("role") == "admin" %}
                <a href="/add">Add Student</a>
            {% endif %}

            <a href="/logout">Logout</a>
        </nav>

        <div class="toggle-container">
            <label class="switch">
                <input type="checkbox" id="toggleSwitch" onclick="toggleDarkMode()">
                <span class="slider"></span>
            </label>
            <span>Dark Mode</span>
        </div>
    </aside>

    <!-- Content -->
    <main class="content">

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% for category, message in messages %}
                <div class="toast {{ category }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endwith %}

        {% block content %}{% endblock %}
    </main>

</div>

</body>
</html>
